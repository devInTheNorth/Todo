<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="2do.css">
    <link rel="stylesheet" href="../font-awesome-4.7.0/css/font-awesome.css">
    <title>Qwikly To-do App</title>
</head>
<body>
    <header>
        <h1>Qwikly To-do App</h1>
        <h2>Why people are using Qwikly</h2>
        <h3>It's: </h3>
        <ol class="features">
            <li>Fast</li>
            <li>Reliable</li>
            <li>Responsive</li>
            <li>Easy To Use</li>
        </ol>

    </header>
    <div class="container">
    <main>
        <div class="main">
            <form>
            <legend><h2>Add a new To-do</h2></legend>
            <label for="txtHeading">Add a Title</label>
             <p><input type="text" name="txtHeading" id="txtHeading" placeholder=" Add a Title" required> </p>

             <label for="txtDate">Select A Date</label>
             <p><input type="date" name="txtDate" id="txtDate" placeholder=" Pick a Date" required> </p>

             <label for="txtTime">Supply Time</label>
             <p><input type="time" name="txtTime" id="txtTime" required ></p>

             <label for="txtDetails">Add More Details</label>
             <p><textarea cols="30" name="txtDetails" id="txtDetails" rows="10" placeholder=" Add more Details" required></textarea> </p>
             <p class="withIcon"><input type="submit" value="Add To List" id="btnAdd" class="btn"> 
                <i class="fa fa-2x fa-plus"></i>
            
            </p>
            </form>
        </div>
    </main>
    <aside>
        <h2>Your current Tasks will Appear Here</h2>
        <div class="today tasks">
            <h3>Today</h3>
            <i class="fa fab fa-expand"></i>

        </div>
        <div class="tasks">
            <h3>Tomorrow</h3>
            <i class="fa fab fa-expand " id="btn2m"></i>
            <div class="table">
                <table id="tb2m">
                    <tr>
                        <th>Title</th>
                        <th> Date</th>
                        <th>Time</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                    
                   </table> 
            </div>
            
        </div>
        

    </aside>
    </div>
    <div>


    </div>
    <footer>
        <h2>Developed with Love by DevInTheNorth</h2>
       

    </footer>
   
    <script>
        let TodoObj = new Object();

        function collapseTable(tableID, ctrlBtn){
            document.querySelector(tableID).style.display = 'none';
               document.querySelector(ctrlBtn).classList.remove('fa-minus');
               document.querySelector(ctrlBtn).classList.add('fa-expand');

        }
        function expandTable(tableID, ctrlBtn){
        document.querySelector(tableID).style.display = 'block';
            document.querySelector(ctrlBtn).classList.remove('fa-expand');
            document.querySelector(ctrlBtn).classList.add('fa-minus');

     }
        let btn2m = document.querySelector('#btn2m').addEventListener('click', () => {
                if(document.querySelector('#btn2m').className.includes('fa-expand')){
                    
                    expandTable('#tb2m', "#btn2m"); }
                else{ collapseTable('#tb2m', "#btn2m"); }
                
            });

            function fetchItems(tableName){
                for(let i =0; i<localStorage.length+1; i++) {
                    let Item = JSON.parse(localStorage[`Todo-${i}`]);
                    let con =  `<td> ${Item.Title} </td> <td> ${Item.Title} </td<td> ${Item.Title} </td<td> ${Item.Title} </td` +
                    
                  
                }

            }
            
       /*  (btn2m.className.includes('fa-expand')) ? collapseTable('#tb2m', btn2m) : expandTable('#tb2m', btn2m); */
          
            function  AddToDo(TodoObj){
                console.log('adding Objs')
                let storageNum = `Todo-${localStorage.length+1}`;
                 localStorage.setItem(storageNum, JSON.parse(TodoObj));
                 console.log('Added Objs')
            }
            function getInputs(){
                try{
                
                TodoObj.Title = document.querySelector('#txtHeading').value;
                TodoObj.Date = document.querySelector('#txtDate').value;
                TodoObj.Time = document.querySelector('#txtTime').value;
                TodoObj.Details = document.querySelector('#txtDetails').value;
                console.log('returing Objs')
                }
                catch(err){
                    console.log(err);
                }
                finally{
                    return TodoObj;
                }
                
            }
            let btnAdd = document.querySelector('#btnAdd').addEventListener('click', () => {
                    AddToDo(getInputs());
            }); 

        /* function validateInputs(textBox, pattern){

        } */
            
    </script>
</body>
</html>